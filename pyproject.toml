[tool.poetry]
name = "metron-tagger"
version = "1.6.0"
description = "A program to write metadata from metron.cloud to a comic archive"
authors = ["Brian Pepple <bpepple@metron.cloud>"]
license = "GPL-3.0-or-later"
maintainers = ["Brian Pepple <bpepple@metron.cloud>"]
readme = "README.rst"
packages = [
	{ include = "metrontagger" },
]
include = [
    { path = "tests", format = "sdist" }
]
classifiers=[
  "Development Status :: 5 - Production/Stable",
  "Environment :: Console",
  "Intended Audience :: End Users/Desktop",
  "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
  "Natural Language :: English",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Topic :: Utilities",
  "Topic :: Other/Nonlisted Topic",
  "Operating System :: MacOS :: MacOS X",
  "Operating System :: POSIX",
  "Operating System :: POSIX :: BSD",
  "Operating System :: POSIX :: Linux",
  "Operating System :: Microsoft :: Windows",
]
keywords=["comics", "comic", "metadata", "tagging", "tagger"]

[tool.poetry.dependencies]
python = "^3.9"
mokkari = "^2.5.0"
questionary = "^1.10.0"
pyxdg = "^0.28"
darkseid = "^3.0.0"
lxml = "^4.9.2"
imagehash = "^4.3.1"

[tool.poetry.scripts]
metron-tagger = "metrontagger.cli:main"

[tool.poetry.group.dev.dependencies]
pytest-cov = "^2.12.1"
pytest-mock = "^3.6.1"
pre-commit = "^2.14.1"
black = "^23.0.0"
tox = "^3.24.3"
ruff = "^0.0.280"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.black]
line-length = 95
target-version = ['py39']

[tool.isort]
profile = "black"
multi_line_output = 3
line_length = 95
default_section = "THIRDPARTY"
known_first_party = []
known_third_party = ["PIL", "darkseid", "imagehash", "lxml", "mokkari", "pytest", "questionary", "xdg"]

[tool.poetry.urls]
"Homepage" = "https://github.com/Metron-Project/metron-tagger"
"Bug Tracker" = "https://github.com/Metron-Project/metron-tagger/issues"

[tool.ruff]
fix = true
line-length = 95
show-fixes = true
target-version = "py39"
ignore = ["A001", "A003"]
select = [
  "A",
  "ANN",
  "ARG",
  "B",
  "BLE",
  "C40",
  "COM",
  "CPY",
  "DJ",
  "DTZ",
  "E",
  "ERA",
  "F",
  "G",
  "I",
  "ICN",
  "INP",
  "ISC",
  "N",
  "NPY",
  "PD",
  "PGH",
  "PIE",
  "PLC",
  "PLE",
  "PLW",
  "PT",
  "PTH",
  "PYI",
  "Q",
  "RET",
  "RSE",
  "RUF",
  "S",
  "SIM",
  "SLF",
  "T10",
  "T20",
  "TCH",
  "TID",
  "UP",
  "W",
  "YTT"
]

[tool.ruff.flake8-annotations]
allow-star-arg-any = true

[tool.ruff.flake8-tidy-imports]
ban-relative-imports = "all"

[tool.ruff.isort]
combine-as-imports = true

[tool.ruff.per-file-ignores]
"tests/test_*.py" = ["ERA001", "S101", "SLF001"]

[tool.coverage.run]
source = ["metrontagger"]

[tool.coverage.report]
show_missing = true

